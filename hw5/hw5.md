# Одномерные фигуры

Максимальное количество баллов: **9**

*В этой работе нужно реализовать мини-библиотеку для решения систем уравнений и неравенств с одной переменной. А именно, написать классы для множества точек на координатной прямой, для луча и для отрезка, а так же методы для их пересечения друг с другом. Используйте технику double dispatch. Рефлексию вроде методов `is_a?`, `instance_of?`, `class` в основном коде использовать запрещено. Для простоты можете считать, что все границы отрезков и лучей, а также все точки имеют целочисленные координаты. Авторское решение занимает примерно 130 строк размашистым неплотным почерком*

Одномерные фигуры описываются одним из классов - `Empty` (пустая фигура), `Points` (непустое ножество точек с координатами x1, x2 ... xn), `Segment` (отрезок [left, right]) и `Ray` (луч с центром в точке center и направлением dir, которое равно 1, если луч направлен вправо, и -1, если влево). Интерфейс у этих классов должен быть следующим:

## Empty

Метод `intersectTo`, который принимает любую фигуру и всегда возвращает объект класса `Empty`

## Points

1. Метод `points`, который возвращает массив точек из множества.
2. Метод `intersectTo`, который принимает объект `f`, и возвращает пересечение множества точек с соответствующей фигурой:
   - Пересечение с `Points` даёт новый объект класса `Points` с общим множеством точек, или `Empty`, если оно пустое;
   - Пересечение с `Segment` даёт новый объект класса `Points` с множеством точек, которые попадают в границы отрезка, или `Empty`, если оно пустое;
   - Пересечение с `Ray` даёт новый объект класса `Points` с множеством точек, которые лежат на луче, или `Empty`, если оно пустое.

## Segment

1. Методы `left` и `right`, которые возвращают левую и правую границу отрезка соответственно.
2. Метод `intersectTo`, который принимает объект `f`, и возвращает пересечение отрезка с соответствующей фигурой:
    - Пересечение с `Points` даёт новый объект класса `Points`, содержащий множество точек, попадающих в границы отрезка, или `Empty`, если оно пустое;
    - Пересечение с `Segment` даёт новый объект класса `Segment`, если исходные отрезки пересекаются, `Points` с единственной точкой, если отрезки касаются в этой точке, или `Empty`, если отрезки не пересекаются;
    - Пересечение с `Ray` даёт новый объект класса `Segment`, если отрезок пересекается с лучом, или `Points` с единственной точкой, если отрезок касается луча в этой точке, или `Empty`, если луч и отрезок не пересекаются.
  
## Ray

1. Методы `center` и `dir`, которые возвращают начало луча и его направление.
2. Метод `intersectTo`, который принимает объект `f`, и возвращает пересечение луча с соответствующей фигурой:
    - Пересечение с `Points` даёт новый объект класса `Points` с множеством точек, которые лежат на луче, или `Empty`, если оно пустое.
    - Пересечение с `Segment` даёт новый объект класса `Segment`, если отрезок пересекается с лучом, или `Points` с единственной точкой, если отрезок касается луча в этой точке, или `Empty`, если луч и отрезок не пересекаются.
    - Пересечение с `Ray` даёт новый объект `Ray`, если лучи направлены в одну сторону, объект `Segment` с границами в началах двух лучей, если лучи направлены в разные стороны и перекрывают друг друга, объект `Points` с единственной точкой, если лучи расходятся из этой точки в разные стороны, и `Empty`, если лучи не касаются и не перекрывают друг друга.

Ещё понадобятся методы для обеспечения двойной диспетчеризации, и возможно какие-то вспомогательные для удобства. Класс `Empty` и заглушки для других классов для вас уже предоставлены.
